<h2 mat-dialog-title>Εκτύπωση Group "{{ data[0].group_name }}"</h2>
<mat-dialog-content class="mat-typography">
  <div class="event-container">
    @for (groupOfRunners of runnersGroupedByEventArray; track $index ) {
    <div class="athletes-group-container">
      <h3>{{ groupOfRunners[0].event_name }}</h3>
      <h4>Επιλεγμένοι {{ getNumberOfEventSelectedRunners(groupOfRunners) }}/{{
        groupOfRunners.length
        }}</h4>
      <table mat-table [dataSource]="groupOfRunners" class="mat-elevation-z8">
        <ng-container matColumnDef="selected">
          <th mat-header-cell *matHeaderCellDef>
            <mat-checkbox [indeterminate]="partiallySelected(groupOfRunners)" [checked]="allSelected(groupOfRunners)"
              (change)="updateSelectedRunners($event.checked, groupOfRunners)"></mat-checkbox>
          </th>
          <td mat-cell *matCellDef="let element">
            <mat-checkbox [(ngModel)]="element.selected"></mat-checkbox>
          </td>
        </ng-container>
        <ng-container matColumnDef="bib">
          <th mat-header-cell *matHeaderCellDef>Bib</th>
          <td mat-cell *matCellDef="let element">{{ element.bib }}</td>
        </ng-container>
        <ng-container matColumnDef="last_name">
          <th mat-header-cell *matHeaderCellDef>Επίθετο</th>
          <td mat-cell *matCellDef="let element">
            {{ element.last_name }}
          </td>
        </ng-container><ng-container matColumnDef="first_name">
          <th mat-header-cell *matHeaderCellDef>Όνομα</th>
          <td mat-cell *matCellDef="let element">{{ element.first_name }}</td>
        </ng-container>
        <ng-container matColumnDef="nationality">
          <th mat-header-cell *matHeaderCellDef>Εθνικότητα</th>
          <td mat-cell *matCellDef="let element">{{ element.nationality }}</td>
        </ng-container>
        <ng-container matColumnDef="gender">
          <th mat-header-cell *matHeaderCellDef>Φύλο</th>
          <td mat-cell *matCellDef="let element">{{ element.gender }}</td>
        </ng-container>
        <ng-container matColumnDef="is_printed">
          <th mat-header-cell *matHeaderCellDef>Έχει Εκτυπωθεί</th>
          <td mat-cell *matCellDef="let element">
            @if (element.is_printed) {
            <mat-icon color="primary">check</mat-icon>
            } @else {<mat-icon color="warn">close</mat-icon>}
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>

    }
  </div>
  <div>
    <h4>Σύνολο Επιλεγμένων Δρομέων {{ getNumberOfTotalSelectedRunners() }}/{{
      getNumberOfTotalRunners()
      }}</h4>
  </div>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-flat-button mat-dialog-close (click)="onCancelClick()">
    Άκυρο
  </button>
  <button mat-flat-button mat-dialog-close (click)="onLoadRunnersClick()" [disabled]="!hasRunnersSelected()"
    color="primary" cdkFocusInitial>
    Φόρτωση Αθλητών
  </button>
</mat-dialog-actions>